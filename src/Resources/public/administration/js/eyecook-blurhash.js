!function(e){var n={};function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var i in e)t.d(r,i,function(n){return e[n]}.bind(null,i));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="/bundles/eyecookblurhash/",t(t.s="EIxV")}({EIxV:function(e,n,t){"use strict";t.r(n);var r,i,a=(r=t("dmb0")).keys().reduce((function(e,n){var t={name:n.split(".")[1].split("/")[1],functional:!0,render:function(e,t){var i=t.data;return e("span",{class:[i.staticClass,i.class],style:i.style,attrs:i.attrs,on:i.on,domProps:{innerHTML:r(n)}})}};return e.push(t),e}),[]),o=Shopware.Component,c=(a.map((function(e){return o.register(e.name,e)})),t("aIzF")),s=t("MQ+w");function u(e,n,t,r,i,a,o){try{var c=e[a](o),s=c.value}catch(e){return void t(e)}c.done?n(s):Promise.resolve(s).then(r,i)}(i=regeneratorRuntime.mark((function e(){var n,t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Shopware.Application.getContainer("factory"),(t=n.locale).extend("de-DE",c),t.extend("en-GB",s),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})),function(){var e=this,n=arguments;return new Promise((function(t,r){var a=i.apply(e,n);function o(e){u(a,t,r,o,c,"next",e)}function c(e){u(a,t,r,o,c,"throw",e)}o(void 0)}))})().catch();t("pyVI");function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,n,t,r,i,a,o){try{var c=e[a](o),s=c.value}catch(e){return void t(e)}c.done?n(s):Promise.resolve(s).then(r,i)}function d(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){var a=e.apply(n,t);function o(e){h(a,r,i,o,c,"next",e)}function c(e){h(a,r,i,o,c,"throw",e)}o(void 0)}))}}function f(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function p(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,n){return(m=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function b(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=g(e);if(n){var i=g(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return v(this,t)}}function v(e,n){return!n||"object"!==l(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var w=Shopware.Classes.ApiService,y=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&m(e,n)}(u,e);var n,t,r,i,a,o,c,s=b(u);function u(e,n){var t,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"eyecook/blurhash";return f(this,u),(t=s.call(this,e,n,r)).name="ecbGenerationApiService",t}return n=u,(t=[{key:"fetchGenerateByMediaId",value:(c=d(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.httpClient.get("/".concat(this.getApiBasePath("generate/media/".concat(n),"_action")),{headers:this.getBasicHeaders()}).then((function(e){return e.data})));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)})},{key:"fetchGenerateByMediaIds",value:(o=d(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.httpClient.post("/".concat(this.getApiBasePath("generate/media","_action")),{mediaIds:n},{headers:this.getBasicHeaders()}).then((function(e){return w.handleResponse(e)})));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"fetchGenerateByFolderId",value:(a=d(regeneratorRuntime.mark((function e(n,t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.httpClient.get("/".concat(this.getApiBasePath("generate/folder/".concat(n),"_action")),{headers:this.getBasicHeaders(),params:{all:!!t}}).then((function(e){return w.handleResponse(e)})));case 1:case"end":return e.stop()}}),e,this)}))),function(e,n){return a.apply(this,arguments)})},{key:"fetchGenerateByFolderIds",value:(i=d(regeneratorRuntime.mark((function e(n,t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.httpClient.post("/".concat(this.getApiBasePath("generate/folder","_action")),{folderIds:n,all:!!t},{headers:this.getBasicHeaders()}).then((function(e){return w.handleResponse(e)})));case 1:case"end":return e.stop()}}),e,this)}))),function(e,n){return i.apply(this,arguments)})}])&&p(n.prototype,t),r&&p(n,r),u}(w);function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,n,t,r,i,a,o){try{var c=e[a](o),s=c.value}catch(e){return void t(e)}c.done?n(s):Promise.resolve(s).then(r,i)}function B(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){var a=e.apply(n,t);function o(e){_(a,r,i,o,c,"next",e)}function c(e){_(a,r,i,o,c,"throw",e)}o(void 0)}))}}function x(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function E(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e,n){return(S=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function R(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=G(e);if(n){var i=G(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return O(this,t)}}function O(e,n){return!n||"object"!==k(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function G(e){return(G=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var A=Shopware.Classes.ApiService,q=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&S(e,n)}(u,e);var n,t,r,i,a,o,c,s=R(u);function u(e,n){var t,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"eyecook/blurhash";return x(this,u),(t=s.call(this,e,n,r)).name="ecbRemovalApiService",t}return n=u,(t=[{key:"fetchRemoveByMediaId",value:(c=B(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.httpClient.get("/".concat(this.getApiBasePath("remove/media/".concat(n),"_action")),{headers:this.getBasicHeaders()}).then((function(e){return e.data})));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)})},{key:"fetchRemoveByMediaIds",value:(o=B(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.httpClient.post("/".concat(this.getApiBasePath("remove/media","_action")),{mediaIds:n},{headers:this.getBasicHeaders()}).then((function(e){return A.handleResponse(e)})));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"fetchRemoveByFolderId",value:(a=B(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.httpClient.get("/".concat(this.getApiBasePath("remove/folder/".concat(n),"_action")),{headers:this.getBasicHeaders()}).then((function(e){return A.handleResponse(e)})));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"fetchRemoveByFolderIds",value:(i=B(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.httpClient.post("/".concat(this.getApiBasePath("remove/folder","_action")),{folderIds:n},{headers:this.getBasicHeaders()}).then((function(e){return A.handleResponse(e)})));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})}])&&E(n.prototype,t),r&&E(n,r),u}(A);function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,n,t,r,i,a,o){try{var c=e[a](o),s=c.value}catch(e){return void t(e)}c.done?n(s):Promise.resolve(s).then(r,i)}function V(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){var a=e.apply(n,t);function o(e){P(a,r,i,o,c,"next",e)}function c(e){P(a,r,i,o,c,"throw",e)}o(void 0)}))}}function I(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function j(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function N(e,n){return(N=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function M(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=F(e);if(n){var i=F(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return L(this,t)}}function L(e,n){return!n||"object"!==C(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function F(e){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var T=Shopware.Classes.ApiService,H=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&N(e,n)}(c,e);var n,t,r,i,a,o=M(c);function c(e,n){var t,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"eyecook/blurhash";return I(this,c),(t=o.call(this,e,n,r)).name="ecbValidationApiService",t}return n=c,(t=[{key:"fetchValidateByMediaId",value:(a=V(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.httpClient.get("/".concat(this.getApiBasePath("validator/media/".concat(n),"_action")),{headers:this.getBasicHeaders()}).then((function(e){return T.handleResponse(e)})));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"fetchValidateByFolderId",value:(i=V(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.httpClient.get("/".concat(this.getApiBasePath("validator/folder/".concat(n),"_action")),{headers:this.getBasicHeaders()}).then((function(e){return T.handleResponse(e)})));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})}])&&j(n.prototype,t),r&&j(n,r),c}(T),$=Shopware.Application;[y,H,q].forEach((function(e){var n=$.getContainer("factory"),t=$.getContainer("init"),r=n.apiService,i=new e(t.httpClient,Shopware.Service("loginService")),a=i.name;r.register(a,i),$.addServiceProvider(a,(function(){return i}))}));t("p3Ca");var D=t("tX7y"),z=t.n(D);t("XnlA");function U(e,n,t,r,i,a,o){try{var c=e[a](o),s=c.value}catch(e){return void t(e)}c.done?n(s):Promise.resolve(s).then(r,i)}function W(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){var a=e.apply(n,t);function o(e){U(a,r,i,o,c,"next",e)}function c(e){U(a,r,i,o,c,"throw",e)}o(void 0)}))}}var Q=Shopware,X=Q.Component,J=Q.Mixin;X.register("ecb-media-preview",{template:z.a,mixins:[J.getByName("ecb-blurhash")],data:function(){return{blurhashSrc:null}},props:{item:{type:Object,required:!0}},watch:{item:function(){this.refreshSrc()}},methods:{refreshSrc:function(){var e=this;return W(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",e.itemBlurhashAsImageSrc().then((function(n){return e.blurhashSrc=n})).catch());case 1:case"end":return n.stop()}}),n)})))()}},mounted:function(){var e=this;return W(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e.refreshSrc();case 1:case"end":return n.stop()}}),n)})))()}});var Z=t("GC+L"),K=t.n(Z);Shopware.Component.register("ecb-quick-action",{template:K.a,props:{disabled:{type:Boolean,required:!1,default:!1},title:{type:String,required:!1},icon:{type:String,required:!0},text:{type:String,required:!0},color:{type:String,required:!1}},computed:{actionClasses:function(){return{"sw-media-sidebar__quickaction--disabled":this.disabled}}},methods:{onActionClick:function(){!1===this.disabled&&this.$emit("click")}}});var Y=t("n/rA"),ee=t.n(Y);t("jTXa");Shopware.Component.register("ecb-quick-actions",{template:ee.a,props:{isValid:{type:Boolean,required:!1,default:null},isValidating:{type:Boolean,required:!1,default:!1},validationErrorText:{type:String,required:!1},validationError:{type:String,required:!1}}});var ne=t("gCo2"),te=t.n(ne);function re(e,n,t,r,i,a,o){try{var c=e[a](o),s=c.value}catch(e){return void t(e)}c.done?n(s):Promise.resolve(s).then(r,i)}function ie(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){var a=e.apply(n,t);function o(e){re(a,r,i,o,c,"next",e)}function c(e){re(a,r,i,o,c,"throw",e)}o(void 0)}))}}var ae=Shopware,oe=ae.Component,ce=ae.Mixin;oe.override("sw-media-folder-info",{template:te.a,inject:["ecbValidationApiService","ecbGenerationApiService","ecbRemovalApiService","systemConfigApiService"],mixins:[ce.getByName("notification"),ce.getByName("ecb-blurhash")],data:function(){return{isEcbValid:null,isEcbValidating:!1,isEcbGenerating:!1,hasEcbGenerated:!1}},mounted:function(){this.ecbValidate()},computed:{canEcbGenerate:function(){return!0===this.isEcbValid&&!1===this.hasEcbGenerated},isEcbLoading:function(){return this.isEcbValidating||this.isEcbGenerating}},methods:{onGenerateMissingActionClick:function(){var e=this;return ie(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",e.ecbGenerate(!1));case 1:case"end":return n.stop()}}),n)})))()},onGenerateAllActionClick:function(){var e=this;return ie(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",e.ecbGenerate(!0));case 1:case"end":return n.stop()}}),n)})))()},onExcludeActionClick:function(){var e=this;return ie(regeneratorRuntime.mark((function n(){var t,r,i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e.isEcbLoading){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,e.systemConfigApiService.getValues("EyecookBlurhash.config");case 4:return r=n.sent,!1===(i=null!==(t=r["EyecookBlurhash.config.excludedFolders"])&&void 0!==t?t:[]).includes(e.mediaFolder.id)&&i.push(e.mediaFolder.id),n.next=9,e.systemConfigApiService.saveValues({"EyecookBlurhash.config.excludedFolders":i});case 9:return n.abrupt("return",e.ecbValidate(!0));case 10:case"end":return n.stop()}}),n)})))()},onIncludeActionClick:function(){var e=this;return ie(regeneratorRuntime.mark((function n(){var t,r,i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e.isEcbLoading){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,e.systemConfigApiService.getValues("EyecookBlurhash.config");case 4:return r=n.sent,(i=null!==(t=r["EyecookBlurhash.config.excludedFolders"])&&void 0!==t?t:[]).includes(e.mediaFolder.id)&&i.splice(i.indexOf(e.mediaFolder.id),1),n.next=9,e.systemConfigApiService.saveValues({"EyecookBlurhash.config.excludedFolders":i});case 9:return n.abrupt("return",e.ecbValidate(!0));case 10:case"end":return n.stop()}}),n)})))()},onRemoveAllActionClick:function(){var e=this;return ie(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e.isEcbLoading){n.next=2;break}return n.abrupt("return");case 2:return e.isEcbGenerating=!0,n.prev=3,n.next=6,e.ecbRemovalApiService.fetchRemoveByFolderId(e.mediaFolder.id);case 6:e.hasEcbGenerated=!1,e.createNotificationInfo({title:"Blurhash",message:e.$tc("ecBlurhash.general.removal.folder.notificationOnRemove",0,{folderName:e.mediaFolder.name})}),setTimeout((function(){e.$nextTick((function(){e.$emit("media-item-replaced")}))}),2e3),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(3),e.createNotificationError({message:n.t0.message});case 14:e.isEcbGenerating=!1;case 15:case"end":return n.stop()}}),n,null,[[3,11]])})))()},ecbValidate:function(){var e=arguments,n=this;return ie(regeneratorRuntime.mark((function t(){var r,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.length>0&&void 0!==e[0]&&e[0],!(n.isEcbLoading||!1===r&&null!==n.isEcbValid)){t.next=3;break}return t.abrupt("return");case 3:return n.isEcbValidating=!0,t.prev=4,t.next=7,n.ecbValidationApiService.fetchValidateByFolderId(n.mediaFolder.id);case 7:i=t.sent,n.isEcbValid=i.valid,t.next=14;break;case 11:t.prev=11,t.t0=t.catch(4),n.createNotificationError({message:t.t0.message});case 14:setTimeout((function(){n.isEcbValidating=!1}),300);case 15:case"end":return t.stop()}}),t,null,[[4,11]])})))()},ecbGenerate:function(e){var n=this;return ie(regeneratorRuntime.mark((function t(){var r,i,a,o,c,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.isEcbLoading&&!n.hasEcbGenerated){t.next=2;break}return t.abrupt("return");case 2:return n.isEcbGenerating=!0,t.prev=3,t.next=6,n.ecbGenerationApiService.fetchGenerateByFolderId(n.mediaFolder.id,e);case 6:n.hasEcbGenerated=!0,r=e?"ecBlurhash.general.generation.folder.notificationOnForceGenerate":"ecBlurhash.general.generation.folder.notificationOnGenerate",n.createNotificationInfo({title:"Blurhash",message:n.$tc(r,0,{folderName:n.mediaFolder.name})}),t.next=16;break;case 11:t.prev=11,t.t0=t.catch(3),a=t.t0.message,424===(null===(i=t.t0.response)||void 0===i?void 0:i.status)&&(c=t.t0.response.data,s=(null===(o=c.errors[0])||void 0===o?void 0:o.code)||"UnknownError",a=n.$t("ecBlurhash.errors.".concat(s))),n.createNotificationError({message:a});case 16:n.isEcbGenerating=!1;case 17:case"end":return t.stop()}}),t,null,[[3,11]])})))()}}});var se=t("ESjS"),ue=t.n(se);t("RS1d");function le(e,n,t,r,i,a,o){try{var c=e[a](o),s=c.value}catch(e){return void t(e)}c.done?n(s):Promise.resolve(s).then(r,i)}function he(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){var a=e.apply(n,t);function o(e){le(a,r,i,o,c,"next",e)}function c(e){le(a,r,i,o,c,"throw",e)}o(void 0)}))}}var de=Shopware,fe=de.Component,pe=de.Mixin;fe.override("sw-media-quickinfo",{template:ue.a,inject:["ecbValidationApiService","ecbGenerationApiService","ecbRemovalApiService"],mixins:[pe.getByName("notification"),pe.getByName("ecb-blurhash")],data:function(){return{isEcbValid:null,isEcbValidating:!1,isEcbGenerating:!1,hasEcbGenerated:!1,ecbValidationError:void 0}},mounted:function(){this.ecbValidate()},watch:{item:function(){this.ecbValidate(!0)}},computed:{canEcbGenerate:function(){return(!0===this.isEcbValid||this.hasItemBlurhash)&&!1===this.hasEcbGenerated},canEcbValidate:function(){return null===this.isEcbValid&&!1===this.hasItemBlurhash},isEcbLoading:function(){return this.isEcbValidating||this.isEcbGenerating},generationText:function(){return this.hasItemBlurhash?this.$t("ecBlurhash.general.generation.refresh"):this.$t("ecBlurhash.general.generation.start")},generationHelpText:function(){return this.hasItemBlurhash?this.$t("ecBlurhash.general.generation.media.helpForce"):this.$t("ecBlurhash.general.generation.media.help")}},methods:{ecbValidate:function(e){var n=this;return he(regeneratorRuntime.mark((function t(){var r,i,a,o,c,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.isEcbLoading&&(e||null===n.isEcbValid)){t.next=2;break}return t.abrupt("return");case 2:return n.isEcbValidating=!0,t.prev=3,t.next=6,n.ecbValidationApiService.fetchValidateByMediaId(n.item.id);case 6:r=t.sent,n.isEcbValid=r.valid,n.ecbValidationError=r.message,t.next=16;break;case 11:t.prev=11,t.t0=t.catch(3),a=t.t0.message,424===(null===(i=t.t0.response)||void 0===i?void 0:i.status)&&(c=t.t0.response.data,s=(null===(o=c.errors[0])||void 0===o?void 0:o.code)||"UnknownError",a=n.$t("ecBlurhash.errors.".concat(s))),n.createNotificationError({message:a});case 16:setTimeout((function(){n.isEcbValidating=!1}),300);case 17:case"end":return t.stop()}}),t,null,[[3,11]])})))()},onEcbGenerateActionClick:function(){var e=this;return he(regeneratorRuntime.mark((function n(){var t,r,i,a,o,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e.isEcbLoading&&!e.hasEcbGenerated){n.next=2;break}return n.abrupt("return");case 2:return e.isEcbGenerating=!0,n.prev=3,n.next=6,e.ecbGenerationApiService.fetchGenerateByMediaId(e.item.id);case 6:e.hasEcbGenerated=!0,t=e.hasItemBlurhash?"ecBlurhash.general.generation.media.notificationOnForceGenerate":"ecBlurhash.general.generation.media.notificationOnGenerate",e.createNotificationInfo({title:"Blurhash",message:e.$tc(t,0,{mediaName:e.item.fileName})}),n.next=16;break;case 11:n.prev=11,n.t0=n.catch(3),i=n.t0.message,424===(null===(r=n.t0.response)||void 0===r?void 0:r.status)&&(o=n.t0.response.data,c=(null===(a=o.errors[0])||void 0===a?void 0:a.code)||"UnknownError",i=e.$t("ecBlurhash.errors.".concat(c))),e.createNotificationError({message:i});case 16:e.isEcbGenerating=!1;case 17:case"end":return n.stop()}}),n,null,[[3,11]])})))()},onEcbRemoveActionClick:function(){var e=this;return he(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e.isEcbLoading&&!1!==e.hasItemBlurhash){n.next=2;break}return n.abrupt("return");case 2:return e.isEcbGenerating=!0,n.prev=3,n.next=6,e.ecbRemovalApiService.fetchRemoveByMediaId(e.item.id);case 6:e.createNotificationInfo({title:"Blurhash",message:e.$tc("ecBlurhash.general.removal.media.notificationOnRemove",0,{mediaName:e.item.fileName})}),setTimeout((function(){return e.emitRefreshMediaLibrary()}),2e3),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(3),e.createNotificationError({message:n.t0.message});case 13:e.isEcbGenerating=!1;case 14:case"end":return n.stop()}}),n,null,[[3,10]])})))()}}});t("Fb8x");var me=t("s3t6"),be=t.n(me),ve=(t("yVVZ"),Shopware),ge=ve.Component,we=ve.Mixin;ge.override("sw-media-preview-v2",{template:be.a,mixins:[we.getByName("ecb-blurhash")],data:function(){return{isBlurhashPreview:!1}},methods:{toggleBlurhashPreview:function(){this.isBlurhashPreview=!this.isBlurhashPreview}},computed:{isBlurhashPreviewApplicable:function(){return this.width>100}}});t("hSmX")},ESjS:function(e,n){e.exports='{% block sw_media_quickinfo_quickactions_content %}\n    {% parent %}\n\n    {% block sw_media_quickinfo_quickactions_content_blurhash_actions %}\n        <ecb-quick-actions\n            :isValid="isEcbValid"\n            :isValidating="isEcbValidating"\n            validationErrorText="ecBlurhash.general.validation.media.notQualified"\n            :validationError="ecbValidationError"\n        >\n            <template slot="actions">\n                {% block sw_media_quickinfo_quickactions_content_blurhash_actions_generate %}\n                    <ecb-quick-action\n                        @click="onEcbGenerateActionClick"\n                        icon="default-object-paint"\n                        :title="generationHelpText"\n                        :text="generationText"\n                        :disabled="canEcbGenerate === false || isEcbLoading"\n                    ></ecb-quick-action>\n                {% endblock %}\n\n                {% block sw_media_quickinfo_quickactions_content_blurhash_actions_remove %}\n                    <ecb-quick-action\n                        @click="onEcbRemoveActionClick"\n                        icon="default-action-trash"\n                        color="#fc427b"\n                        title="ecBlurhash.general.removal.media.help"\n                        text="ecBlurhash.general.removal.media.label"\n                        :disabled="isEcbLoading || !hasItemBlurhash"\n                    ></ecb-quick-action>\n                {% endblock %}\n            </template>\n        </ecb-quick-actions>\n    {% endblock %}\n{% endblock %}\n\n{% block sw_media_quickinfo_metadata_content_base %}\n    {% parent %}\n\n    {% block sw_media_quickinfo_metadata_item_blurhash %}\n        <sw-media-quickinfo-metadata-item\n            class="sw-media-quickinfo-metadata-blurhash"\n            :label-name="$t(\'ecBlurhash.general.blurhash\')"\n        >\n            <span :title="itemBlurhash" v-if="hasItemBlurhash">\n                <sw-icon color="green" name="small-default-checkmark-line-small"></sw-icon>\n            </span>\n            <span :title="itemBlurhash" v-else>\n                <sw-icon color="red" name="default-basic-x-line"></sw-icon>\n            </span>\n        </sw-media-quickinfo-metadata-item>\n    {% endblock %}\n{% endblock %}\n'},Fb8x:function(e,n){Shopware.Component.override("sw-media-library",{mounted:function(){window.addEventListener("eyecook_blurhash_generated",this.refreshList)},beforeDestroy:function(){window.removeEventListener("eyecook_blurhash_generated",this.refreshList)}})},"GC+L":function(e,n){e.exports='{% block ecb_media_quick_action %}\n    <li\n        class="sw-media-sidebar__quickaction quickaction--blurhash"\n        :class="actionClasses"\n        :title="title ? $t(title) : null"\n        @click="onActionClick"\n    >\n        <sw-icon small :color="color" :name="icon" class="sw-media-sidebar__quickactions-icon"></sw-icon>\n        {{ $t(text) }}\n    </li>\n{% endblock %}\n'},HDpJ:function(e,n,t){},"MQ+w":function(e){e.exports=JSON.parse('{"ecBlurhash":{"general":{"blurhash":"Blurhash","validation":{"valid":"Ready","invalid":"Incompatible","folder":{"help":"Was this folder excluded from Blurhash generation?","notQualified":"This folder was excluded from generation"},"media":{"help":"Is this media qualified and has not been excluded from Blurhash generation?","notQualified":"This media is not qualified for Blurhash. Reason: {reason}"}},"removal":{"folder":{"label":"Remove all","help":"Removes all generated Blurhashes in this folder","notificationOnRemove":"All Blurhashes of \'{folderName}\' were removed successfully"},"media":{"label":"Remove","help":"Remove generated Blurhash","notificationOnRemove":"The Blurhash for \'{mediaName}\' was removed successfully"}},"exclude":{"folder":{"labelAdd":"Exclude","helpAdd":"Ignore this folder","labelRemove":"Include","helpRemove":"Remove the exclusion of this folder"}},"generation":{"start":"Generate","refresh":"Refresh","refreshAll":"Refresh All","folder":{"help":"Generate missing Blurhashes for media in this folder","helpForce":"Generate and overwrite existing Blurhashes for media in this folder","notificationOnGenerate":"The images of the folder \'{folderName}\' were submitted for hash generation.","notificationOnForceGenerate":"The images of the folder \'{folderName}\' were submitted for hash regeneration. Existing hashes will be overridden."},"media":{"help":"Generate Blurhash for this media","helpForce":"Generate and overwrite existing Blurhash for this media","notificationOnGenerate":"The image \'{mediaName}\' was submitted for hash generation.","notificationOnForceGenerate":"The image \'{mediaName}\' was submitted for hash regeneration."}},"exclusion":{"exclude":"Exclude","include":"Include","remove":"Remove exclusion"},"preview":{"toggle":"Toggle Blurhash preview"}},"notification-center":{"worker-listener":{"hashGeneration":{"title":"Blurhash generation","message":"No hash remaining. | One hash remaining ... | {n} hashes remaining ...","success":"All hashes have been generated."}}},"errors":{"EYECOOK_BLURHASH__ILLEGAL_MANUAL_MODE_LEVERAGE":"If the \\"Admin Worker\\" is deactivated in manual mode, Blurhash cannot be process."}}}')},Neyo:function(e,n,t){},RS1d:function(e,n,t){var r=t("HDpJ");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,t("SZ7m").default)("4c4ed5a8",r,!0,{})},SZ7m:function(e,n,t){"use strict";function r(e,n){for(var t=[],r={},i=0;i<n.length;i++){var a=n[i],o=a[0],c={id:e+":"+i,css:a[1],media:a[2],sourceMap:a[3]};r[o]?r[o].parts.push(c):t.push(r[o]={id:o,parts:[c]})}return t}t.r(n),t.d(n,"default",(function(){return p}));var i="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!i)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var a={},o=i&&(document.head||document.getElementsByTagName("head")[0]),c=null,s=0,u=!1,l=function(){},h=null,d="data-vue-ssr-id",f="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function p(e,n,t,i){u=t,h=i||{};var o=r(e,n);return m(o),function(n){for(var t=[],i=0;i<o.length;i++){var c=o[i];(s=a[c.id]).refs--,t.push(s)}n?m(o=r(e,n)):o=[];for(i=0;i<t.length;i++){var s;if(0===(s=t[i]).refs){for(var u=0;u<s.parts.length;u++)s.parts[u]();delete a[s.id]}}}}function m(e){for(var n=0;n<e.length;n++){var t=e[n],r=a[t.id];if(r){r.refs++;for(var i=0;i<r.parts.length;i++)r.parts[i](t.parts[i]);for(;i<t.parts.length;i++)r.parts.push(v(t.parts[i]));r.parts.length>t.parts.length&&(r.parts.length=t.parts.length)}else{var o=[];for(i=0;i<t.parts.length;i++)o.push(v(t.parts[i]));a[t.id]={id:t.id,refs:1,parts:o}}}}function b(){var e=document.createElement("style");return e.type="text/css",o.appendChild(e),e}function v(e){var n,t,r=document.querySelector("style["+d+'~="'+e.id+'"]');if(r){if(u)return l;r.parentNode.removeChild(r)}if(f){var i=s++;r=c||(c=b()),n=y.bind(null,r,i,!1),t=y.bind(null,r,i,!0)}else r=b(),n=k.bind(null,r),t=function(){r.parentNode.removeChild(r)};return n(e),function(r){if(r){if(r.css===e.css&&r.media===e.media&&r.sourceMap===e.sourceMap)return;n(e=r)}else t()}}var g,w=(g=[],function(e,n){return g[e]=n,g.filter(Boolean).join("\n")});function y(e,n,t,r){var i=t?"":r.css;if(e.styleSheet)e.styleSheet.cssText=w(n,i);else{var a=document.createTextNode(i),o=e.childNodes;o[n]&&e.removeChild(o[n]),o.length?e.insertBefore(a,o[n]):e.appendChild(a)}}function k(e,n){var t=n.css,r=n.media,i=n.sourceMap;if(r&&e.setAttribute("media",r),h.ssrId&&e.setAttribute(d,n.id),i&&(t+="\n/*# sourceURL="+i.sources[0]+" */",t+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},XnlA:function(e,n,t){var r=t("Neyo");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,t("SZ7m").default)("4428c3b2",r,!0,{})},aIzF:function(e){e.exports=JSON.parse('{"ecBlurhash":{"general":{"blurhash":"Blurhash","validation":{"valid":"Bereit","invalid":"Inkompatibel","folder":{"help":"Wurde dieser Ordner von der Generierung ausgeschlossen?","notQualified":"Dieser Ordner wurde von der Generierung ausgeschlossen."},"media":{"help":"Ist dieses Bild für Blurhash geeignet und wurde nicht von der Generierung ausgeschlossen?","notQualified":"Dieses Bild ist nicht für Blurhash geeignet. Grund: {reason}"}},"removal":{"folder":{"label":"Alle entfernen","help":"Entferne alle generierten Blurhashes in diesem Ordner","notificationOnRemove":"Es wurden alle Blurhashes im Ordner \'{folderName}\' erfolgreich entfernt"},"media":{"label":"Entfernen","help":"Entfernt den generierten Blurhash","notificationOnRemove":"Der Blurhash wurde erfolgreich von \'{mediaName}\' entfernt"}},"generation":{"start":"Generieren","refresh":"Erneuern","refreshAll":"Alle erneuern","folder":{"help":"Generiere alle fehlenden Blurhashes in diesem Ordner","helpForce":"Generiere alle Blurhashes in diesem Ordner und überschreibt vorhandene","notificationOnGenerate":"Der Ordner \'{folderName}\' wurde für die Hashgenerierung eingereicht.","notificationOnForceGenerate":"Der Ordner \'{folderName}\' wurde für die Hashgenerierung eingereicht. Bereits vorhandene werden dabei überschrieben."},"media":{"help":"Generiere einen Blurhash für dieses Bild","helpForce":"Generiert den Blurhash für dieses Bild erneut und überschreibe den vorhandenen","notificationOnGenerate":"Das Bild \'{mediaName}\' wurde für die Hashgenerierung eingereicht.","notificationOnForceGenerate":"Das Bild \'{mediaName}\' wurde für die Neugenerierung eingereicht."}},"exclusion":{"exclude":"Ausschließen","include":"Brücksichtigen","remove":"Nicht mehr ausschließen"},"preview":{"toggle":"Blurhash Vorschau"}},"notification-center":{"worker-listener":{"hashGeneration":{"title":"Blurhash generierung","message":"Keine Hashes verbleibend. | Ein Hash verbleibend ... | {n} Hashes verbleibend ...","success":"Alle Hashes wurden generiert."}}},"errors":{"EYECOOK_BLURHASH__ILLEGAL_MANUAL_MODE_LEVERAGE":"Wenn der \'Admin Worker\' deaktiviert ist, können im \'Handbetrieb\'-Modus keine Blurhashes verarbeitet werden."}}}')},dmb0:function(e,n,t){var r={"./icons-ecb-canvas.svg":"kHCJ"};function i(e){var n=a(e);return t(n)}function a(e){if(!t.o(r,e)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=a,e.exports=i,i.id="dmb0"},f7Fl:function(e,n,t){},gCo2:function(e,n){e.exports='{% block sw_media_quickinfo_folder_quickactions_content %}\n    {% parent %}\n\n    <template slot="content">\n\n        {% block sw_media_quickinfo_folder_quickactions_content_blurhash_actions %}\n            <ecb-quick-actions\n                :isValid="isEcbValid"\n                :isValidating="isEcbValidating"\n                validationErrorText="ecBlurhash.general.validation.folder.notQualified"\n            >\n                <template slot="actions">\n\n                    {% block sw_media_quickinfo_folder_quickactions_content_blurhash_action_generate_missing %}\n                        <ecb-quick-action\n                            @click="onGenerateMissingActionClick"\n                            icon="default-object-paint"\n                            title="ecBlurhash.general.generation.folder.help"\n                            text="ecBlurhash.general.generation.start"\n                            :disabled="canEcbGenerate === false || isEcbLoading"\n                        ></ecb-quick-action>\n                    {% endblock %}\n\n                    {% block sw_media_quickinfo_folder_quickactions_content_blurhash_action_generate_all %}\n                        <ecb-quick-action\n                            @click="onGenerateAllActionClick"\n                            icon="default-object-paint"\n                            title="ecBlurhash.general.generation.folder.helpForce"\n                            text="ecBlurhash.general.generation.refreshAll"\n                            :disabled="canEcbGenerate === false || isEcbLoading"\n                        ></ecb-quick-action>\n                    {% endblock %}\n\n                    {% block sw_media_quickinfo_folder_quickactions_content_blurhash_action_remove %}\n                        <ecb-quick-action\n                            @click="onRemoveAllActionClick"\n                            icon="default-action-trash"\n                            color="#fc427b"\n                            title="ecBlurhash.general.removal.folder.help"\n                            text="ecBlurhash.general.removal.folder.label"\n                            :disabled="isEcbLoading"\n                        ></ecb-quick-action>\n\n                    {% endblock %}\n\n                    {% block sw_media_quickinfo_folder_quickactions_content_blurhash_action_exclude %}\n                        <ecb-quick-action\n                            v-if="canEcbGenerate"\n                            @click="onExcludeActionClick"\n                            icon="default-lock-closed"\n                            color="orange"\n                            text="ecBlurhash.general.exclusion.exclude"\n                            :disabled="isEcbLoading"\n                        ></ecb-quick-action>\n                        <ecb-quick-action\n                            v-if="canEcbGenerate === false"\n                            @click="onIncludeActionClick"\n                            icon="default-lock-open"\n                            color="orange"\n                            text="ecBlurhash.general.exclusion.include"\n                            :disabled="isEcbLoading"\n                        ></ecb-quick-action>\n                    {% endblock %}\n\n                </template>\n            </ecb-quick-actions>\n        {% endblock %}\n\n    </template>\n{% endblock %}\n'},hSmX:function(e,n){Shopware.Component.override("sw-system-config",{computed:{salesChannelSwitchable:function(){return"EyecookBlurhash.config"!==this.domain&&this.$props.salesChannelSwitchable}}})},jTXa:function(e,n,t){var r=t("z+ue");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,t("SZ7m").default)("1f8b54a6",r,!0,{})},kHCJ:function(e,n){e.exports='<svg xmlns="http://www.w3.org/2000/svg" stroke="currentColor" width="24" height="24" fill="none"><defs><filter height="1.69" y="-.345" width="1.383" x="-.192" id="A" color-interpolation-filters="sRGB"><feGaussianBlur stdDeviation=".599"></feGaussianBlur></filter></defs><path d="M19.276 4.331L6.614 19.834z" stroke-width=".5" stroke-linejoin="round"></path><path d="M4 16l4.586-4.586c.781-.781 1.8-.745 2.581.035.298.213 1.216 1.188 1.216 1.188"></path><path d="M14.367 6.992h.01" stroke-linejoin="round" stroke-linecap="round"></path><path d="M12.383 12.637l3.511 3.222m-2-2l1.586-1.586a2 2 0 0 1 2.828 0l1.457 1.457" filter="url(#A)"></path><path stroke-linejoin="round" d="M18 20c1.082-.222 2-.895 2-2V6a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2z"></path></svg>'},"n/rA":function(e,n){e.exports='<div class="sw-media-quickinfo__quickactions-blurhash">\n    {% block ecb_media_quickactions_content_blurhash_header %}\n    <div class="sw-media-quickinfo__quickactions-blurhash__header">\n        {% block ecb_media_quickactions_content_blurhash_header_inner %}\n            <h4 class="sw-media-collapse__title">\n                {{ $t(\'ecBlurhash.general.blurhash\') }}\n            </h4>\n\n            <sw-icon v-if="isValidating" small\n                     class="sw-media-base-item__loader ecb-validation--status-loading"\n                     name="default-web-loading-star"\n            ></sw-icon>\n            <template v-else>\n                <span v-if="isValid" class="ecb-validation--status-valid">\n                    {{ $t(\'ecBlurhash.general.validation.valid\') }}\n                </span>\n                <span v-else class="ecb-validation--status-invalid">\n                    {{ $t(\'ecBlurhash.general.validation.invalid\') }}\n                </span>\n            </template>\n        {% endblock %}\n    </div>\n    {% endblock %}\n\n    {% block ecb_media_quickactions_content_blurhash_actions %}\n        <ul class="sw-media-sidebar__quickactions-list">\n            <slot name="actions">\n                {% block ecb_media_quickactions_content_blurhash_actions_inner %}{% endblock %}\n            </slot>\n        </ul>\n    {% endblock %}\n\n    {% block ecb_media_quickactions_content_blurhash_message %}\n\n        {% block ecb_media_quickactions_content_blurhash_message_not_qualified %}\n            <sw-alert v-if="isValid === false" class="sw-media-quickinfo__alert-not-qualified" variant="warning">\n                {{ $tc(validationErrorText, 0, { reason: validationError}) }}\n            </sw-alert>\n        {% endblock %}\n\n    {% endblock %}\n</div>\n'},p3Ca:function(e,n){function t(e,n,t,r,i,a,o){try{var c=e[a](o),s=c.value}catch(e){return void t(e)}c.done?n(s):Promise.resolve(s).then(r,i)}var r=Shopware.Mixin,i=Shopware.Utils.object,a=i.pick,o=i.get;r.register("ecb-blurhash",{methods:{hasBlurhash:function(e){return!!o(e,"metaData.blurhash",!1)},pickBlurhashMetaData:function(e){return a(e.metaData,["blurhash","hashOriginHeight","hashOriginWidth"])},blurhashToBase64:function(e){var n=this.pickBlurhashMetaData(e),t=decodeBlurhash(n.blurhash,n.hashOriginWidth,n.hashOriginHeight);return pixelsToBase64(t,n.hashOriginWidth,n.hashOriginHeight)},itemBlurhashAsImageSrc:function(){var e,n=this;return(e=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){n.hasItemBlurhash||t(),setTimeout((function(){e(n.blurhashToBase64(n.item))}))})));case 1:case"end":return e.stop()}}),e)})),function(){var n=this,r=arguments;return new Promise((function(i,a){var o=e.apply(n,r);function c(e){t(o,i,a,c,s,"next",e)}function s(e){t(o,i,a,c,s,"throw",e)}c(void 0)}))})()}},computed:{itemBlurhash:function(){return o(this.item||this.trueSource,"metaData.blurhash","")},hasItemBlurhash:function(){return this.hasBlurhash(this.item||this.trueSource)},hasItemValidBlurhashMeta:function(){var e=this.pickBlurhashMetaData(this.item||this.trueSource);return e&&e.blurhash&&e.hashOriginHeight&&e.hashOriginWidth}}})},pyVI:function(e,n){function t(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function r(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?t(Object(r),!0).forEach((function(n){i(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var a,o,c,s;a=Shopware.Application.getContainer("factory").workerNotification,o={},c="Eyecook\\Blurhash\\Message\\GenerateHashMessage",s=function(e,n){var t=n.entry,r=n.$root,i=n.notification,a=0===t.size&&o.hasOwnProperty("blurhashes");!function(e,n,t,r,i,a,o){var c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:1,s=null,u=!1;n.hasOwnProperty(e)&&(s=n[e].notificationId,u=n[e].didSendForegroundMessage),r.size&&(r.size*=c);var l={title:i.$tc(o.title),message:i.$tc(o.message,r.size),variant:"info",metadata:{size:r.size},growl:!1,isLoading:!0};if(r.size&&null===s&&(a.create(l).then((function(t){s=t,n[e]={notificationId:s,didSendForegroundMessage:!1}})),t()),null!==s){if(l.uuid=s,0===r.size){if(l.title=i.$tc(o.title),l.message=i.$t(o.success),l.isLoading=!1,o.foregroundSuccessMessage&&!u){var h=Object.assign({},l);h.message=i.$t(o.foregroundSuccessMessage),delete h.uuid,delete h.isLoading,h.growl=!0,h.variant="success",a.create(h),n[e]={notificationId:s,didSendForegroundMessage:!0}}delete n[e]}a.update(l)}t()}("blurhashes",o,e,t,r,i,{title:"ecBlurhash.notification-center.worker-listener.hashGeneration.title",message:"ecBlurhash.notification-center.worker-listener.hashGeneration.message",success:"ecBlurhash.notification-center.worker-listener.hashGeneration.success",foregroundSuccessMessage:"ecBlurhash.notification-center.worker-listener.hashGeneration.success"}),a&&window.dispatchEvent(new Event("eyecook_blurhash_generated"))},a.register("GenerateHashMessage",{name:c,fn:s}),a.initialize().use(function(e,n){return function(t,i){var a=i.queue.find((function(n){return n.name===e}))||null,o=r(r({},i),{entry:a,name:e});null===a?t():n.call(null,t,o)}}(c,s))},s3t6:function(e,n){e.exports='{% block sw_media_preview_v2_file_types %}\n    {% parent %}\n\n    {% block sw_media_preview_v2_ecb_toggle %}\n        <span\n            v-if="isBlurhashPreviewApplicable && hasItemBlurhash"\n            class="sw-media-preview-v2__ecb-toggle sw-context-button"\n            @click="toggleBlurhashPreview"\n            :title="$t(\'ecBlurhash.general.preview.toggle\')"\n        >\n            <sw-icon name="ecb-canvas" size="26px"></sw-icon>\n        </span>\n    {% endblock %}\n{% endblock %}\n\n{% block sw_media_preview_v2_file_type_image %}\n    <template v-if="!isBlurhashPreview">\n        {% parent %}\n    </template>\n\n    {% block sw_media_preview_v2_file_type_image_ecb_source %}\n        <ecb-media-preview v-if="isBlurhashPreview" :item="trueSource"></ecb-media-preview>\n    {% endblock %}\n{% endblock %}\n'},tX7y:function(e,n){e.exports='<div class="sw-media-blurhash-preview">\n    {% block ecb_media_blurhash_preview %}\n        <template v-if="blurhashSrc">\n            <img :src="blurhashSrc" class="sw-media-preview-v2__item sw-media-blurhash-preview__item" draggable="false">\n        </template>\n\n        <template v-else>\n            <span class="sw-media-preview-v2__item">\n                <sw-icon class="sw-media-blurhash-preview__loading" multicolor name="default-web-loading-star"></sw-icon>\n            </span>\n        </template>\n    {% endblock %}\n</div>\n'},yVVZ:function(e,n,t){var r=t("f7Fl");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);(0,t("SZ7m").default)("3393340c",r,!0,{})},"z+ue":function(e,n,t){}});